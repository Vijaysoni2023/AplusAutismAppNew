@model aplusautism.Bal.DTO.LoginDTO

<div class="main-content container-fluid">
    <div class="plans">
        <form asp-area="Client" asp-controller="ClientPortal" asp-action="ChangepassowrdClient" id="change_password" class="lessons-form">
            <div id="changepassword" class="lessons-form-info mb-3 card">
                <div class="card-header">
                    <div class="align-items-center row justify-content-between">
                        <div class="col-auto px-1 px-md-2">
                            <h5 class="m-0 text-bold">Change Password</h5>
                        </div>
                        <div class="text-right col-auto px-1 px-md-2">
                           
                           @* <button type="submit" id="btnClear" class="btn btn-sm btn-danger">
                                <i class="fa fa-trash-o mr-2" aria-hidden="true"></i>
                                <span>Cancel</span>
                            </button>*@
                        </div>
                    </div>
                </div>
                <div class="card-body" style="min-height:50vh;">
                    <div class="auth-form">
                        <div class="form-group">
                            <label for="oldpassword">Old Password</label>
                            <input asp-for="@Model.Password" type="password" class="form-control" name="password" id="oldpassword" required>
                            <span class="icon">
                                <i id="oldpwdeye" class="fa fa-eye-slash"></i>
                            </span>
                        </div>
                        <div class="form-group">
                            <label for="newpassword">New Password</label>
                            <input asp-for="@Model.NewPassword" type="password" class="form-control" name="newpassword" id="newpassword" required>
                            <span class="icon">
                                <i id="newpwdeye" class="fa fa-eye-slash"></i>
                            </span>
                        </div>
                        <div class="form-group">
                            <label for="confirmpassword">Confirm Password</label>
                            <input asp-for="@Model.ConfirmPassword" type="password" class="form-control" name="confirmpassword" id="confirmpassword" required>
                            <span class="icon">
                                <i id="confirmpwdeye" class="fa fa-eye-slash"></i>
                            </span>
                        </div>
                        <div class="form-group text-right">
                             <button type="submit" class="btn btn-sm btn-primary" asp->
                                <i class="fa fa-save mr-2"></i>
                                <span>Submit </span>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </form>
    </div>
</div>
@* <script>
    $(document).ready(function () {
        $("#Verify").click(function () {
            var oldPassword = $('#oldpassword').val();
            $.ajax({
                type: "GET",
                url: "@Url.Action("GetPassword")",
                data: {'Username':@Model.username, 'password': oldPassword},
                datatype: "JSON",
                success: function (data) {
                    if (data) {
                        console.log("Working");
                    }
                }
            });
        });
    });
</script>
*@




@*<script type="text/javascript">
        $(document).ready(function() {
            debugger;



            var viewbagdata='@ViewBag.Success';
           // alert(viewbagdata)

            if(viewbagdata=="Updated successfully")
            {
                //swal("", "Already user has been registered with this email!", "success");
                swal("Success!", "Updated successfully")
            }

            </script>*@


<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<link href="https://cdnjs.cloudflare.com/ajax/libs/sweetalert/1.1.3/sweetalert.min.css" rel="stylesheet" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/sweetalert/1.1.3/sweetalert.min.js"></script>


<script>
$(".sidebar-section #lm_changePasswordClient").addClass('active');
</script>


<script type="text/javascript">

    $(document).ready(function() {

        debugger;
        var Success = '@ViewBag.Success';
        if (Success == "true") {
            swal("Thanks!", "Password updated successfully!", "success");

        } else if (Success == "false") {
            swal("Oops!", "Please Enter correct password!", "error");
        }
    });

   
</script>


<script>

    $(function() {

        $('#oldpwdeye').click(function() {

            if ($(this).hasClass('fa-eye-slash')) {

                $(this).removeClass('fa-eye-slash');

                $(this).addClass('fa-eye');

                $('#oldpassword').attr('type', 'text');

            } else {

                $(this).removeClass('fa-eye');

                $(this).addClass('fa-eye-slash');

                $('#oldpassword').attr('type', 'password');
            }
        });

        $('#newpwdeye').click(function() {

            if ($(this).hasClass('fa-eye-slash')) {

                $(this).removeClass('fa-eye-slash');

                $(this).addClass('fa-eye');

                $('#newpassword').attr('type', 'text');

            } else {

                $(this).removeClass('fa-eye');

                $(this).addClass('fa-eye-slash');

                $('#newpassword').attr('type', 'password');
            }
        });

        $('#confirmpwdeye').click(function() {

            if ($(this).hasClass('fa-eye-slash')) {

                $(this).removeClass('fa-eye-slash');

                $(this).addClass('fa-eye');

                $('#confirmpassword').attr('type', 'text');

            } else {

                $(this).removeClass('fa-eye');

                $(this).addClass('fa-eye-slash');

                $('#confirmpassword').attr('type', 'password');
            }
        });
    });
</script>

<script>

    // clean button click all input fileds value clear

    //$(document).ready(function() {

    //    $('#btnClear').click(function() {
    //        if (confirm("Want to clear?")) {
    //            /*Clear all input type="text" box*/
    //            $('#change_password input[type="text"]').val('');
    //        }

    //    });
    //});
</script>

<script>
    $(document).ready(function() {
        $('#change_password').validate({
            rules: {
                oldpassword: 'required',
                newpassword: 'required',
                confirmpassword: 'required',

                oldpassword:
                {
                    required: true,
                    minlength: 3
                },
                newpassword:
                {
                    required: true,
                    minlength: 3
                },
                confirmpassword:
                {
                    required: true,
                    minlength: 3,
                    equalTo: '#newpassword'
                }

            },
            messages: {

                oldpassword: {
                    required: 'Please provide old a password',
                    minlength: 'Your password must be at least 3 characters long'
                },
                newpassword:
                {
                    required: 'Please enter your new password',
                    minlength: 'Your password must be at least 3 characters long',
                },
                confirmpassword:
                {
                    required: 'Please  enter your confirm password',
                    minlength: 'Your confirm password must be at least 3 characters long',
                    equalTo: 'Please enter the same password as above'
                },

            },

            highlight: function(element) {
                $(element).closest('.form-group').addClass('has-error');
            },
            unhighlight: function(element) {
                $(element).closest('.form-group').removeClass('has-error');
            },
            errorElement: 'span',
            errorClass: 'help-block',
            errorPlacement: function(error, element) {
                if (element.parent('.input-group').length) {
                    error.insertAfter(element.parent());
                } else {
                    error.insertAfter(element);
                }
            },

            submitHandler: function(form) {
                form.submit();
            }
        });
    });

</script>


